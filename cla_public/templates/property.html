{% extends "base.html" %}

{% import "macros/form.html" as Form %}

{% block page_heading %}
  {% if session.has_partner %}
    You and your partner’s property
  {% else %}
    Your property
  {% endif %}
{% endblock %}

{% block inner_content %}
  {% if session.has_partner %}
    <p>Please tell us about any property owned by you, your partner or both of you.</p>
    <p>If you or your partner own more than one property, you can add more properties below.</p>
  {% else %}
    <p>If you own more than one property, you can add more properties below.</p>
  {% endif %}

  <form method="POST" action="{{ url_for('.property') }}">
    {{ form.csrf_token }}
    {{ Form.handle_errors(form) }}
    <h2>Main Property</h2>
    {{ Form.yesno_field(form.is_main_home) }}
    {{ Form.yesno_field(form.other_shareholders) }}
    {{ Form.text_field(form.property_value, prefix="£") }}
    {{ Form.text_field(form.mortgage_remaining, prefix="£") }}
    {{ Form.text_field(form.mortgage_payments, prefix="£") }}
    {{ Form.yesno_field(form.is_rented) }}
    {{ Form.text_field(form.rent_amount, prefix="£") }}
    {{ Form.yesno_field(form.in_dispute) }}
    <button type="submit" name="add-property">Add Additional Property</button>
    {% for additional_property in form.additional_properties %}
      <h2>Property {{ loop.index }}</h2>
      {% for prop in additional_property %}
        {{ Form.text_field(prop, prefix="£") }}
      {% endfor %}
    {% endfor %}
    {{ Form.actions('Continue') }}
  </form>
{% endblock %}
